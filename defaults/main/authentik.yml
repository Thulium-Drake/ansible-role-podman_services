---
# Authentik service configuration
# REQUIRED: Set authentik_postgres_password and authentik_secret_key in your environment

# Container images
authentik_image: 'ghcr.io/goauthentik/server'
authentik_ldap: 'ghcr.io/goauthentik/ldap'
authentik_version: '2025.6.2'
authentik_postgresql_image: 'docker.io/library/postgres:16-alpine'
authentik_redis_image: 'docker.io/library/redis:alpine'

# Required secrets - MUST be overridden in group_vars or host_vars
authentik_postgres_password: !unsafe 'CHANGE_ME_POSTGRES_PASSWORD'
authentik_secret_key: !unsafe 'CHANGE_ME_SECRET_KEY_MINIMUM_50_CHARS'
authentik_ldap_token: !unsafe 'CHANGE_ME_LDAP_OUTPOST_TOKEN'

# Port configuration
authentik_http_port: '9000'
authentik_https_port: '9443'
authentik_ldap_port: '389'
authentik_ldaps_port: '636'

# Optional overrides (defaults are production-ready)
authentik_postgres_user: 'authentik'
authentik_postgres_db: 'authentik'

# Authentik service volumes and networks
podman_volumes_authentik:
  authentik:
    - 'authentik-postgresql_data'
    - 'authentik-redis_data'
    - 'authentik-media'
    - 'authentik-templates'
    - 'authentik-certs'

podman_networks_authentik:
  authentik:
    - 'authentik-backend'
