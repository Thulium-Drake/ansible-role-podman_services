---
podman_volumes_portainer:
  portainer:
    - name: portainer-data
      driver: "{{ podman_volume_driver }}"

podman_networks_portainer:
  portainer: []

podman_service_containers_portainer:
  portainer:
    portainer:
      image: "docker.io/portainer/portainer-ce:{{ portainer_version }}"
      ports:
        - "{{ portainer_port }}:9443"
      volumes:
        - "{{ service['name'] }}-data:/data:Z"
        - "/run/user/{{ ansible_user_uid }}/podman/podman.sock:/var/run/docker.sock:Z"
      healthcheck: 'curl -f https://localhost:9443/ || exit 1'
