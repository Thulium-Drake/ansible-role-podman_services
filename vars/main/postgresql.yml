---
podman_volumes_postgresql:
  postgresql:
    - 'postgresql-data'

podman_networks_postgresql:
  postgresql: []

podman_service_containers_postgresql:
  postgresql:
    postgresql:
      image: "docker.io/library/postgres:{{ postgresql_version }}"
      ports:
        - "{{ postgresql_port }}:5432"
      env:
        POSTGRES_USER: "{{ postgresql_user }}"
        POSTGRES_PASSWORD: "{{ postgresql_password }}"
        POSTGRES_DB: "{{ postgresql_database }}"
      volume:
        - "{{ service['name'] }}-data:/var/lib/postgresql/data:Z"
      healthcheck: 'pg_isready || exit 1'
