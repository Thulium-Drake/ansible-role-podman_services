---
# Vikunja service container definitions

# Volume configuration
podman_volumes_vikunja:
  vikunja:
    - 'vikunja-files'
    - 'vikunja-db'

# Network configuration
podman_networks_vikunja:
  vikunja: []

podman_service_containers_vikunja:
  vikunja:
    vikunja:
      image: "docker.io/vikunja/vikunja:{{ vikunja_version }}"
      ports:
        - '{{ vikunja_port }}:3456'
      env:
        VIKUNJA_SERVICE_JWTSECRET: "{{ vikunja_jwt_secret }}"
        VIKUNJA_SERVICE_PUBLICURL: "{{ vikunja_public_url }}"
        VIKUNJA_DATABASE_PATH: "{{ vikunja_database_path }}"
      volumes:
        - '{{ service["name"] }}-files:/app/vikunja/files:Z'
        - '{{ service["name"] }}-db:/db:Z'
